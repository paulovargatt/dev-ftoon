"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8802],{8802:(z,u,n)=>{n.r(u),n.d(u,{LoginPageModule:()=>Z});var p=n(9808),i=n(4182),r=n(661),g=n(2564),d=n(655),f=n(2340),c=n(779),o=n(2096),h=n(5830),v=n(1188),y=n(5955),P=n(5596);const C=[{path:"",component:(()=>{class t{constructor(e,s,a,m,M,T){this.formBuilder=e,this.nav=s,this.api=a,this.storage=m,this.store=M,this.overlay=T,this.emailRegex=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i}ngOnInit(){this.formContent=this.formBuilder.group({email:["",i.kI.compose([i.kI.required,i.kI.pattern(this.emailRegex)])],password:["",[i.kI.required,i.kI.minLength(6)]]})}submit(){return(0,d.mG)(this,void 0,void 0,function*(){const e=yield this.overlay.loading({message:"Processando..."});yield this.api.login(this.formContent.value).then(s=>(0,d.mG)(this,void 0,void 0,function*(){const a=s;return yield this.storage.set("token",a.access_token),this.store.dispatch((0,c.o3)({token:a.access_token})),this.store.dispatch((0,c.xR)({user:a.user})),this.nav.navigateRoot(f.N.pages.home)})).catch(s=>{e.dismiss();const a=s.error;for(const m in a)this.overlay.toast({message:a[m][0],color:"danger"})}),yield e.dismiss()})}convidadoTest(){this.formContent.patchValue({email:"teste@funktoon.com.br",password:"123456"}),this.submit()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(i.qu),o.Y36(r.SH),o.Y36(h.s),o.Y36(v.V),o.Y36(y.yh),o.Y36(P.F))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"container"],[1,"logo"],["src","assets/images/logo-full.svg"],["fill","clear","mode","ios","color","primary","expand","block",3,"click"],[1,"default",3,"formGroup","ngSubmit","keyup.enter"],["fill","outline","shape","round","mode","md"],["position","floating"],["type","email","formControlName","email"],["type","password","formControlName","password"],["type","submit","color","primary","expand","block",1,"default","ion-margin-top",3,"disabled"],[1,"ion-text-center"],["fill","clear","routerLink","register","color","medium","mode","ios",1,"acc-create"]],template:function(e,s){1&e&&(o.TgZ(0,"ion-content")(1,"div",0)(2,"div",1),o._UZ(3,"img",2),o.qZA(),o.TgZ(4,"ion-button",3),o.NdJ("click",function(){return s.convidadoTest()}),o._uU(5," Funktoon Convidado "),o.qZA(),o.TgZ(6,"form",4),o.NdJ("ngSubmit",function(){return s.submit()})("keyup.enter",function(){return s.formContent.valid?s.submit():""}),o.TgZ(7,"ion-item",5)(8,"ion-label",6),o._uU(9,"Login"),o.qZA(),o._UZ(10,"ion-input",7),o.qZA(),o.TgZ(11,"ion-item",5)(12,"ion-label",6),o._uU(13,"Senha"),o.qZA(),o._UZ(14,"ion-input",8),o.qZA(),o.TgZ(15,"ion-button",9),o._uU(16," Entrar "),o.qZA()(),o.TgZ(17,"div",10)(18,"ion-button",11),o._uU(19,"Criar Conta"),o.qZA()()()()),2&e&&(o.xp6(6),o.Q6J("formGroup",s.formContent),o.xp6(9),o.Q6J("disabled",!s.formContent.valid))},directives:[r.W2,r.YG,i._Y,i.JL,i.sg,r.Ie,r.Q$,r.pK,r.j9,i.JJ,i.u,r.YI,g.rH],styles:[".logo[_ngcontent-%COMP%]{display:flex;justify-content:center}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:350px;margin:80px auto}ion-button.default[_ngcontent-%COMP%]{margin-top:30px}.acc-create[_ngcontent-%COMP%]{font-size:1.2em}.container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}"]}),t})()},{path:"register",loadChildren:()=>n.e(7563).then(n.bind(n,7563)).then(t=>t.RegisterPageModule)}];let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[g.Bz.forChild(C)],g.Bz]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[p.ez,i.UX,r.Pc,L]]}),t})()}}]);