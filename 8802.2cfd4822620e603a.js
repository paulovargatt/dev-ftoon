"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8802],{8802:(p,m,o)=>{o.r(m),o.d(m,{LoginPageModule:()=>O});var u=o(9808),e=o(4182),i=o(661),c=o(2564),g=o(655),v=o(2340),a=o(779),t=o(2096),h=o(5830),y=o(1188),P=o(5955),C=o(5596);const L=[{path:"",component:(()=>{class n{constructor(r,s,l,f,Z,A){this.formBuilder=r,this.nav=s,this.api=l,this.storage=f,this.store=Z,this.overlay=A,this.emailRegex=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i}ngOnInit(){this.formContent=this.formBuilder.group({email:["",e.kI.compose([e.kI.required,e.kI.pattern(this.emailRegex)])],password:["",[e.kI.required,e.kI.minLength(6)]]})}submit(){return(0,g.mG)(this,void 0,void 0,function*(){const r=yield this.overlay.loading({message:"Processando..."});yield this.api.login(this.formContent.value).then(s=>(0,g.mG)(this,void 0,void 0,function*(){const l=s;return yield this.storage.set("token",l.access_token),this.store.dispatch((0,a.o3)({token:l.access_token})),this.store.dispatch((0,a.xR)({user:l.user})),this.nav.navigateRoot(v.N.pages.home)})).catch(s=>{r.dismiss();const l=s.error;for(const f in l)this.overlay.toast({message:l[f][0],color:"danger"})}),yield r.dismiss()})}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(e.qu),t.Y36(i.SH),t.Y36(h.s),t.Y36(y.V),t.Y36(P.yh),t.Y36(C.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"container"],[1,"logo"],["src","assets/images/logo-full.svg"],[1,"default",3,"formGroup","ngSubmit","keyup.enter"],["fill","outline","shape","round","mode","md"],["position","floating"],["type","email","formControlName","email"],["type","password","formControlName","password"],["type","submit","color","primary","expand","block",1,"default","ion-margin-top",3,"disabled"],[1,"ion-text-center"],["fill","clear","routerLink","register","color","medium","mode","ios",1,"acc-create"]],template:function(r,s){1&r&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"div",1),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return s.submit()})("keyup.enter",function(){return s.formContent.valid?s.submit():""}),t.TgZ(5,"ion-item",4)(6,"ion-label",5),t._uU(7,"Login"),t.qZA(),t._UZ(8,"ion-input",6),t.qZA(),t.TgZ(9,"ion-item",4)(10,"ion-label",5),t._uU(11,"Senha"),t.qZA(),t._UZ(12,"ion-input",7),t.qZA(),t.TgZ(13,"ion-button",8),t._uU(14," Entrar "),t.qZA()(),t.TgZ(15,"div",9)(16,"ion-button",10),t._uU(17,"Criar Conta"),t.qZA()()()()),2&r&&(t.xp6(4),t.Q6J("formGroup",s.formContent),t.xp6(9),t.Q6J("disabled",!s.formContent.valid))},directives:[i.W2,e._Y,e.JL,e.sg,i.Ie,i.Q$,i.pK,i.j9,e.JJ,e.u,i.YG,i.YI,c.rH],styles:[".logo[_ngcontent-%COMP%]{display:flex;justify-content:center}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:350px;margin:80px auto}ion-button.default[_ngcontent-%COMP%]{margin-top:30px}.acc-create[_ngcontent-%COMP%]{font-size:1.2em}.container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}"]}),n})()},{path:"register",loadChildren:()=>o.e(7563).then(o.bind(o,7563)).then(n=>n.RegisterPageModule)}];let M=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.Bz.forChild(L)],c.Bz]}),n})(),O=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,e.UX,i.Pc,M]]}),n})()},5596:(p,m,o)=>{o.d(m,{F:()=>c});var u=o(655),e=o(2096),i=o(661);let c=(()=>{class g{constructor(a,t,h){this.alertController=a,this.loadingController=t,this.toastController=h}alert(a){return(0,u.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create(a);return yield t.present(),t})}loading(a){return(0,u.mG)(this,void 0,void 0,function*(){const t=yield this.loadingController.create(Object.assign({message:"Aguarde",duration:15e3},a));return yield t.present(),t})}toast(a){return(0,u.mG)(this,void 0,void 0,function*(){const t=yield this.toastController.create(Object.assign({position:"bottom",duration:3e3},a));return yield t.present(),t})}}return g.\u0275fac=function(a){return new(a||g)(e.LFG(i.Br),e.LFG(i.HT),e.LFG(i.yF))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);